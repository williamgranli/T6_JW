%
%  $Description: Author guidelines and sample document in LaTeX 2.09$ 
%
%  $Author: John Burchell & William Granli $
%  $Date: 2015/01/21 15:20:59 $
%  $Revision: 1.0
%

\documentclass[10pt,twocolumn]{article} 
\usepackage{latex8}
\usepackage{authblk}

\title{Exploring and Validating the Motives Behind API Evolution: A Case Study}

% \author[*]{John Burchell}
% \author[x]{William Granli}
% \affil[*x]{Software Engineering \& Management}
% \affil[*x]{University Of Gothenburg}
% \affil[*]{john.a.burchell@gmail.com}
% \affil[x]{william.granli@gmail.com}

\begin{document}

% \author{\textsuperscript{*}John Burchell \qquad \textsuperscript{x}William Granli \\
% 		\textsuperscript{*}john.a.burchell@gmail.com \qquad \textsuperscript{x}william.granli@gmail.com \\
% 		\textsuperscript{*x} Computer Science and Engineering  \\
% 		\textsuperscript{*x}University of Gothenburg }


\author{John Burchell \qquad William Granli \\
		john.a.burchell@gmail.com \qquad william.granli@gmail.com \\
		Computer Science and Engineering  \\
		University of Gothenburg }


\maketitle





\section{Introduction}
%API Design (and a little bit of ecosystems, and a bit of problem statement)
As the software industry and the open source movement steadily grow, the number of public APIs is increasing. APIs can improve the development speed \cite{stylos2006comparing}, contribute to higher quality software \cite{stylos2006comparing} and increase the reusability of software \cite{afonso2012evaluating}. There is a consensus in that modifications to APIs could negatively impact the users of the API \cite{google_talk} \cite{mcdonnell2013empirical} \cite{robbes2012developers} \cite{henning2007api} \cite{robbes2012developers}. The main reason being that it will require the users to update the code, which is using the API, thus causing a disruption in the applicaiton's software ecosystem \cite{messerschmitt2005software}. The most common changes to APIs occur from refactoring \cite{dig2005role} \cite{xing2006refactoring}. 
%software evolution 
In the discipline of software evolution, such updates to software are studied from an evolutionary standpoint. Software can be updated for different reasons and these motives can be grouped into corrective, adaptive, perfective and preventive changes \cite{lientz1980software} \cite{iso}. 

%Gap in Literature
Studies that explore the intent behind API modifications exist \cite{hou2011exploring}. There are, however, no studies that attempt to map the motives behind changes to business needs or existing software evolution theories, such as the four categories of maintenance \cite{lientz1980software} \cite{iso}. The area of programming language APIs is well-explored \cite{hou2011exploring} \cite{shi2011empirical}, but few studies that explore platform APIs exist \cite{robbes2012developers}. To the best of our knowledge, no studies that explore the motives behind or the effects of API evolution have previously been performed on embedded platform APIs. 

%Purpose (and a bit of problem statement)
Due to the negative implications that modifications to to APIs cause for API users, it is important to understand why changes to APIs occur. If most common pitfalls are known before the development of new APIs begin, these mistakes could be mitigated. Before the industry can make use of this information, we must also critically assess to what degree we can trace such motives. To achieve this, we will perform a case study which aims to investigate the underlying factors behind API changes. This will be achieved by empirically analysing the changes between two versions of an API. Subsequently, the designers of the API will be interviewed and asked to verify the accuracy of our findings. 

%Structure of the paper
The sections following the Introduction are structured as follows: In Section 2, we present a literature review on research related to our study. Section 3 describes the case company and how it was selected. A description of our methodology is introduced in Section 4. 

\subsection{Research Questions}
\begin{itemize}
\item RQ1: What drives API evolution? 
\item RQ1.1: To what extent can we reverse engineer API change decisions?
%\item SRQ1.2: Are changes/improvements to APIs made for good reasons? (Compare why the changes were made to best practises for why you should change APIs)
\end{itemize}


\section{Related Work}
Our work is mainly related to the research area of API design. This discipline is discussed in Section 2.1. The motives and effects of changes to APIs is directly related related to the fields of software evolution and software ecosystems. This will be discussed in Section 2.2. 

\subsection{API Design}

API design is notoriously difficult as a myriad of design and performance decisions must be taken into consideration when creating APIs \cite{bloch2008effective}\cite{afonso2012evaluating}\cite{stylos2006comparing}. In previous research generalisable usability studies have been created, with the aim of analysing the design decisions taken when creating an API \cite{stylos2006comparing}. Another empirical study, which involved working with 25 programmers, highlighted API design problems such as assigning names to API features and difficulty in naming types \cite{shi2011empirical}. The study also introduced four factors which are important to consider when creating an API: a) The API  must be understandable through good documentation, b) the API must not be overly abstract, c) the API must be reusable and d) the API must be easy to learn \cite{shi2011empirical}. Both studies also highlighted that the intent of the API must be clear to the user when using design patters, such as the concrete factory pattern \cite{shi2011empirical} \cite{stylos2006comparing}.

An additional study involved combining semiotic and cognitive methods to evaluate APIs as a means of facilitating communication, between programmers and designers. \cite{afonso2012evaluating}. However, these studies do not highlight the motives behind changes to APIs.

\subsection{API Change}
Previous studies that have attempted to identify the motives behind API changes have primarily focused on APIs that are a part of large programming languages, such as Java \cite{shi2011empirical} \cite{hou2011exploring} and Smalltalk \cite{robbes2012developers}. One study attempted to uncover the intents behind the changes made in the AWT and Swing Java libraries. This particular study found that the use of a strong architecture was vital in ensuring a successful evolution of the API \cite{hou2011exploring}.

However, when APIs are changed, problems tend to occur. One study \cite{dig2005role} investigated three frameworks and one library in which the study found that 80\% of refactoring changes to APIs negatively affected existing applications. Refactorings are not the only changes to APIs that can impact existing projects negatively. Another study was conducted regarding the changes, which the researchers refer to as ripple effects \cite{robbes2012developers}. They found that changes in APIs have an effect upon the entire ecosystem. This particular empirical study found that 14\% of non-trivial API deprecations caused errors in at least one project, with the worst case of 79 projects being affected \cite{robbes2012developers}.

Furthermore, a study of the impact of reliable APIs was undertaken in the Android ecosystem \cite{mcdonnell2013empirical}. The study aimed to discover if APIs with high rates of faults affected the success of an application. The study found that the 50 least popular applications had APIs which were 500\% more error prone, ultimately concluding that there is indeed a correlation between API stability and application success \cite{mcdonnell2013empirical}. 

\section{Case Company Description}
The case company is a medium-sized company in the domain of security cameras. The company has its headquarters in Lund, Sweden, but it operates worldwide. The company is the global market leader in the markets of network cameras and video encoders. The company develops embedded software for the security cameras, and some cameras are designed to be accessible by APIs that are also developed by the company. 

%Try to get information about the users of the API. Either through Imed, or through the interviews. 

The case was selected using convenience sampling \cite{flyvbjerg2006five}, and a maximum variation strategy was used \cite{benbasat1987case}. As such, the goal was to include as many companies as possible in this study. [!!!Note to Richard \#1: Do you think we can claim that our case is typical, critical, revelatory or unique? Or is our current description adequate?]

%Try to motivate why other sampling methods weren't used.


\section{Methodology}
This study has been conducted using the case study methodology \cite{runeson2009guidelines}. The goal of the study was twofold. Firstly, the aim was to empirically \textit{explore} the motives behind changes to APIs, and secondly, our ambition was to \textit{validate} the results' level of correctness by comparing our findings with the case company's explanation of their motives. Our research can be classified as an embedded case study \cite{yin2013case}, since both the API code and API documentation have been used as units of analysis [!!!Note to Richard \#2: Do you agree with this?] 

The reason the selected methodology was used is that it is essential to study the phenomenon of API change in its natural context. The applicability of case studies in such scenarios is supported by existing studies \cite{runeson2009guidelines} \cite{benbasat1987case} \cite{yin2013case} \cite{robson2002real}. An alternative approach that was considered was design research, but if a ``toy program" was to be used instead of an API tried and tested in an industry setting, the study would lack real-life context \cite{runeson2009guidelines} [!!!Note to Richard \#3: Do you think this is a valid reason? Or is it a stretch to assume that all design research involves toy programs]. 

An additional motivation for why the case study approach was used is that there is little existing research conducted in the area of motives behind API change, and that input from the industry is vital to the success of the research; especially to be able to assess the validity of the findings related to RQ1. 

\subsection{Data Collection}
The data were collected primarily through third degree methods, such as first hand inspections of the source code and the archival analysis of accompanying  documentation. The source code was comprised of two versions of APIs which the company had developed. An older version which is currently released and a newer version which is soon to be deployed. Each version of the API had its own relevant documentation. The documentation provided explanations of the features offered by the API and illustrated some examples of its usage.

From the APIs we collected data about method names, parameters and return types. The data were collected from both versions of the APIs, with the changes between the two versions being of particular interest. From the archival documentation we collected information regarding the motive behind the functionality in API calls. This information provided insight into the motives behind the changes. For example, we examined differences in descriptions of methods prior to and after return types or parameters were renamed.

A double inspection and a single joint inspection were used to collect the information from the APIs and the documentation. This was performed to reduce researcher bias and human error. Once collected, the data were input into tables and spreadsheets according to the API version.

These collection methods were the most appropriate given that the data were readily available from the company. This brought concerns that the data were not collected for the purpose of research \cite{runeson2009guidelines}, meaning there was a risk of data being irrelevant or erroneous. 

Collecting data by using other techniques were required to fill in the missing data. First degree interviews were also conducted after the initial source inspections had taken place. The main purpose was to validate our findings with the architects of the API. Furthermore, the interviews provided additional insight into decisions and motivations behind changes that we were unaware of. The interviews also provided us with more insight about the end users of the system. Another added benefit was that we were able to triangulate our results with responses in the interviews, allowing us to validate, or refute our findings.


%why methods apply to our study, why the techniques were used. Motivate relationship between the techniques and the RQs


\subsection{Data Analysis}
• method for analyzing the data (grounded theory? Thematic analysis? Statistical analysis?) strategies for validating findings

How will data be analyzed?





\bibliographystyle{latex8}
\bibliography{latex8}


\Section{Acknowledgement}
John had the main responsibility for sections 1, 2. William had the main responsibility for section 3. Section 3.6 and the interview questions were written together. We have, however, worked on all sections jointly and all sections have been reviewed by both William and John. 


\noindent
\end{document}

